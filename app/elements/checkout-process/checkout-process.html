<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="/bower_components/core-collapse/core-collapse.html">

<polymer-element name="checkout-process">
	<template>
		<link rel="stylesheet" href="checkout-process.css">
		<div class="tall-toolbar theme-bg-b" flex layout horizontal>
			<core-icon class="big" icon="payment"></core-icon>
			<div class="title" flex layout horizontal center-justified>Finalizar Pedido</div>
		</div>
		<core-animated-pages flex selected="{{page}}" transitions="slide-from-right" on-core-animated-pages-transition-end="{{complete}}">
			<section>
				<div class="login-box" flex layout horizontal center-justified>
					<paper-input id="email" type="email" placeholder="Informe seu email"></paper-input>
				</div>
				<div class="login-box" flex layout horizontal center-justified>
					<paper-input id="password" type="password" placeholder="Informe sua senha"></paper-input>
				</div>
			</section>
			<section>
				<div slide-from-right class="address-box">
					<div class="addresses">
					<div>Endereço de Entrega</div>
					
					<paper-radio-group selected="casa">
						<paper-radio-button id="casa" name="casa" on-click="{{toggle}}" label="Casa">
							<core-collapse id="casadesc">SQN 216 Bloco J, 101, Brasília, DF, 70875-100</core-collapse>						
						</paper-radio-button>
						<paper-radio-button id="trabalho" name="trabalho" on-click="{{toggle}}" label="Trabalho">
							<core-collapse id="trabalhodesc">SRTVN Quadra 01 Bloco K, 201, Brasília, DF, 70523-880</core-collapse>
						</paper-radio-button>
						<paper-radio-button name="novo" label="Cadastrar novo endereço"></paper-radio-button>
					</paper-radio-group>
					</div>
					<div class="shipping">
					<div>Forma de Envio</div>
					<paper-radio-group selected="pac">
						<paper-radio-button id="pac" name="pac" on-click="{{toggle}}" label="PAC"></paper-radio-button>
						<paper-radio-button id="sedex" name="sedex" on-click="{{toggle}}" label="Sedex"></paper-radio-button>
					</paper-radio-group>
					</div>
				</div>
			</section>
			<section>
				<div slide-from-right class="address-box">
					<div class="payment">
					<div>Forma de Pagamento</div>	
					<paper-radio-group selected="">
						<paper-radio-button id="creditcard" name="creditcard" on-click="{{toggleb}}" label="Cartão de Crédito">
							<core-collapse id="cartaodesc">Cartao</core-collapse>						
						</paper-radio-button>
						<paper-radio-button id="boleto" name="boleto" label="Boleto"></paper-radio-button>
					</paper-radio-group>
					</div>
				</div>
			</section>
		</core-animated-pages>
		<div class="bottom theme-bg-b" layout horizontal>
			<div class="fab fab-previous" >
				<paper-fab id="prev" icon="arrow-back" on-tap="{{ transition }}" ></paper-fab>
			</div>
			<div class="fab fab-next">
				<paper-fab id="next" icon="arrow-forward" on-tap="{{ transition }}" ></paper-fab>
			</div>
		</div>
	</template>
	<script>
      Polymer('checkout-process',{
          page : 0,
          
          maxPage : 2,

          itemSelected : {},
          
          productSelected : {},
          
          selected : 0,
          
          ready: function() {
        	  this.$.casadesc.opened = true;
          },

          transition: function(event, detail, sender) { 	  
        	  if (sender.id === 'next') {  		  
                  if (this.page < this.maxPage) {
                	  this.page += 1;
                  }           
        	  } else if (sender.id === 'prev') {
                  if (this.page > 0) {
                	  this.page -= 1;
                  }
        	  }
          },
          transitionend: function() {
              if (this.lastSelected) {
                  this.lastSelected = null;
              }
          },
          back: function() {
        	  if (this.page > 0) {
        		  this.page -= 1;
        	  }
          },
          toggle: function(event, detail, sender) {
        	  if (sender.id === 'casa') {
        		  this.$.casadesc.opened = true;
        		  this.$.trabalhodesc.opened = false;
        	  } else if (sender.id === 'trabalho') {
        		  this.$.casadesc.opened = false;
        		  this.$.trabalhodesc.opened = true;
        	  }       	  
        	}
      });

	</script>
</polymer-element>
